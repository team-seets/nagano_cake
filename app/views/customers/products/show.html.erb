<div class="row4">
  <div class="col-xs-3">
    <div class="name-search">
  <% if customer_signed_in? %>                       
    <h5>商品名検索</h5>
    <%= form_with url: products_search_path, method: :get, local: true do |f| %>
      <%= f.text_field 'search[value]', size: "26x4" %><br>
      <span class="search-button col-xs-12 text-right">
        <%= f.select 'search[how]', options_for_select({ "部分一致" => "partical", "前方一致" => "forward", "後方一致" => "backward", "完全一致" => "match" }) %>
        <%= f.submit :"検索" %>
      </span>
    <% end %>
  <% end %>
</div>
<table class="table table-bordered genre-table">
    <thead>
      <tr>
        <th>ジャンル検索</th>
      </tr>
    </thead>
    <tbody>
    <% @genres.each do |genre| %>
      <tr>
        <td>
          <%= link_to genre.name, products_search_path('search[value]': genre.id, 'search[how]': "match") %>
        </td>
      </tr>
    <% end %>
    </tbody>
</table>
  </div>
  
  <% if @cart_product.errors.any? %>
		<div id="error_explanation">
			<h3><%= @cart_product.errors.count %>error prohibited this obj from being saved:</h3>
			<ul>
				<% @cart_product.errors.full_messages.each do |message| %>
				  <li><%= message %></li>
				<% end %>
			</ul>
		</div>
	<% end %>
  <%= form_with model:@cart_product, url:cart_products_path,  method: :post, local:true do |f| %>
      <br><br><br><br><br>
      <div class="col-xs-3">
      <%= attachment_image_tag @product, :image, size:'330x270' %>
      </div>
      <div class="col-xs-6">
        <h2><strong><%= @product.name %></strong></h2>
      <br>
      <%= @product.introduction %>
      <br>
      <br>
      <h2>￥<%= @product.price %></h2><h4>（税抜）</h4>
      <br>
      <br>
      <%= f.hidden_field :product_id, :value => @product.id %>
      <%= f.number_field :quantity %>
      <%= f.submit "カートに入れる", class:"btn btn-primary" %>
      </div>
  <% end %>
  